title: Cats（二）：引用透明性和等式推理
author: Yison
tags: 
- Cats
- 函数式编程
description: 上一篇文章我们介绍了函数式编程的思维，本篇我们来探讨下函数式编程的魅力，所谓的引用透明性和等式推理。注意，这不是一个介绍概念的文章系列，所以笔者打算从 if 开始讲起。
date: 2017-12-17
---

[上一篇文章](https://scala.cool/2017/11/cats-1/) 介绍了函数式编程的思维，这一篇我们来了解下函数式编程的魅力，所谓的 [引用透明性]() 和 [等式推理]()。

注意，这不是一个介绍概念的文章系列，所以笔者打算从一个递归函数讲起。

## 代换模型

```scala
def f(x: Int): Int = f(x)
```

用 Scala 开发的小伙伴看了相当气愤，这是一段自杀式的代码，如果我们执行了它，如 `f(1)` ，那么必然会导致死循环。

这时，一个会 Haskell 的程序员路过，迷之微笑，花了 10 秒钟翻译成了以下的版本：

```haskell

```

纳尼！竟然成功返回了结果 1。这到底是怎么回事呢？

### 正则序 vs 应用序

也许相当多开发的同学至今未曾思考过这个问题：**编程语言中的表达式求值策略是怎样的？**