---
title: <译> Scala 类型的类型（六）
author: Yison
tags:
- 类型相关
- 翻译
description: 结构类型（Strucural Types）经常被描述为「类型安全的鸭子类型（duck typing）」，如果你想获得一个直观的理解，这是一个很好的比较。
date: 2017-07-21
---

## 上一篇

[Scala 类型的类型（五）](http://scala.cool/2017/07/scala-types-of-types-part-5/)

## 目录

- [26. 联合类型](#26-联合类型)
- [27. 延迟初始化](#27-延迟初始化)
- [28. 动态类型](#28-动态类型)
- [29. 参考条目及感谢](#29-参考条目)

## 26. 联合类型

> ❌ 本部分尚未完成，但你可以通过 Miles 的博客（下方有链接）获得更多了解 :-)

让我们开始来讨论这个类型，这次要借助下「集合论」，然后把我们已经学过的 `A with B` 当做一个「交集类型」。

为什么呢？因为只有同时带有类型 `A` 和类型 `B` 的对象才能符合这个类型，因此在集合论中，它将是一个交集。

这是两个集合的联合。我们的任务是使用 Scala 类型系统来引入这样的类型。虽然它们不是 Scala 中的第一等构造（不是内置的），我们也可以很容易地实现和使用它们。**Miles Sabin** 在博客中在 Scala 中通过「 Curry-Howard 同构」深入地解释了这一技术，如果你比较好奇，可以去看看。

```scala
type |∨|[T, U] = { type λ[X] = ¬¬[X] <:< (T ∨ U) }

def size[T : (Int |∨| String)#λ](t : T) = t match {
    case i : Int => i
    case s : String => s.length
}
```

## 27. 延迟初始化