title: Cats（一）：从函数式编程思维谈起
author: Yison
tags: 
- Cats
- 函数式编程
description: 如果你看到一个开源类库，logo 是四只猫 + 五个箭头，可能会略感不适 — 这是工程代码里可以使用的玩意儿吗？
date: 2017-12-08
---

![](http://plastic-idolatry.com/erik/cats2.png)

如果你看到一个开源类库，logo 是四只猫 + 五个箭头，可能会略感不适 — 这是工程代码里可以使用的玩意儿吗？

没错，这是 [TypeLevel](https://typelevel.org/) 设计的一个函数式类库，一群推崇函数式编程的家伙注入到 Scala 生态中的重磅炸弹，它是 [Cats](https://typelevel.org/cats/index.html)，源于 Category（范畴）的缩写。

在 [水滴](https://drip.im) 的系统中，我们大规模使用了 Cats 来解决一些业务问题，并且从中受益。但显然这并不是 Scala 标准库所支持的打法，所以本系列旨在系统地介绍这个类库，让更多人了解它。

> 我们最开始使用的是 [Scalaz](https://github.com/scalaz/scalaz)，它是 Cats 的前身，由于语法问题导致很多吐槽，之后采用 Cats 替代。

当然，很多了解过 Cats 的人知道，关于它已经有以下这些优秀的学习资料：

- [herding cats](http://eed3si9n.com/herding-cats/)，同样也是 [learning scalaz](http://eed3si9n.com/learning-scalaz/) 的作者。
- [Scala with Cats Book](http://underscore.io/books/advanced-scala/)，出自 underscore.io

但显然，如果之前并没有函数式编程经验的同学，可能会在首次阅读这些资料的时候犯困。因此，该系列希望在正式介绍 Cats 这个神器之前，先友好地探讨一些关于「函数式编程」的基本问题。如：

- 什么是函数式编程
- 函数式编程有哪些特点
- 函数式编程有哪些优点

## 函数式编程？

那么，什么才是函数式编程呢？其实，关于这点并没有准确权威的定义，本文也不想就此给出一个答案。

但是，我们希望来讨论下什么是「函数式编程思维」，它跟我们熟知的「命令式编程」到底有哪些不同。

经常上知乎的朋友发现了，这是知乎上一个非常好的问题。

[什么是函数式编程思维？— 知乎](https://www.zhihu.com/question/28292740)

本文推荐以下的回答：

@nameoverflow:
**函数式编程关心数据的映射，命令式编程关心解决问题的步骤。**

更数学化的版本：
@parker liu
**函数式编程关心类型（代数结构）之间的关系，命令式编程关心解决问题的步骤。**


### 总结
函数式编程的思维就是如何将类型（代数结构）之间的关系组合起来，用数学的构造主义构造出你设计的程序。

### 要素

我们来解剖这个结论，直观上函数式编程是一件非常简单的事情，我们只需做一件事情就够了，那就是「组合」。

但此时，我们肯定又变得一头雾水，以下问题紧接着就来了：

- 真的有这么简单吗？
- 到底什么是「组合」呢？
- 在理论上，它真能做到完备性吗？
- 什么才是所谓的「关系」呢？

别急，我们先来讨论一个基本的问题 — **什么是过程和数据？**

## 过程和数据

看过 [SICP](https://book.douban.com/subject/1148282/) 的朋友肯定已经发现，这是这本书第一章和第二章所研究的内容。

简单来说，